â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     âœ… COMMANDES POUR VOTRE BOT (/home/bagbot/baag-bot)      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Copiez-collez ces commandes dans votre VM:

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“¦ VERSION COMPLÃˆTE (Ã©tape par Ã©tape)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

cd /home/bagbot/baag-bot

# 1. SAUVEGARDES
echo "ðŸ’¾ CrÃ©ation des sauvegardes..."
BACKUP_DATE=$(date +%Y%m%d_%H%M%S)
cp src/commands/dashboard.js src/commands/dashboard.js.backup_$BACKUP_DATE
cp src/utils/discord_gif_downloader.js src/utils/discord_gif_downloader.js.backup_$BACKUP_DATE
cp dashboard-v2/server-v2.js dashboard-v2/server-v2.js.backup_$BACKUP_DATE
cp dashboard-v2/index.html dashboard-v2/index.html.backup_$BACKUP_DATE
cp dashboard-v2/auto_download_discord_gifs.js dashboard-v2/auto_download_discord_gifs.js.backup_$BACKUP_DATE
echo "âœ… Sauvegardes crÃ©Ã©es: backup_$BACKUP_DATE"

# 2. MODIFICATIONS
echo ""
echo "ðŸ”„ Modification des fichiers..."
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' src/commands/dashboard.js
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' src/utils/discord_gif_downloader.js
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' dashboard-v2/server-v2.js
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' dashboard-v2/index.html
sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' dashboard-v2/auto_download_discord_gifs.js
echo "âœ… Fichiers modifiÃ©s"

# 3. VÃ‰RIFICATION
echo ""
echo "ðŸ” VÃ©rification..."
COUNT=$(grep -r "88.174.155.230:3002" src/commands/dashboard.js src/utils/discord_gif_downloader.js dashboard-v2/server-v2.js dashboard-v2/index.html dashboard-v2/auto_download_discord_gifs.js 2>/dev/null | wc -l)
echo "âœ… $COUNT occurrences de la nouvelle IP trouvÃ©es"

# 4. REDÃ‰MARRAGE
echo ""
echo "ðŸ”„ RedÃ©marrage des services..."
pm2 restart bag-bot dashboard

# 5. VÃ‰RIFICATION FINALE
echo ""
echo "ðŸ“Š Ã‰tat des services:"
pm2 list
echo ""
echo "âœ… DÃ‰PLOIEMENT TERMINÃ‰!"
echo ""
echo "ðŸŽ¯ TESTEZ MAINTENANT SUR DISCORD:"
echo "   1. Tapez: /dashboard"
echo "   2. VÃ©rifiez le lien: http://88.174.155.230:3002"
echo "   3. Cliquez sur le bouton"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš¡ VERSION RAPIDE (1 seule commande)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

cd /home/bagbot/baag-bot && BACKUP_DATE=$(date +%Y%m%d_%H%M%S) && cp src/commands/dashboard.js src/commands/dashboard.js.backup_$BACKUP_DATE && cp src/utils/discord_gif_downloader.js src/utils/discord_gif_downloader.js.backup_$BACKUP_DATE && cp dashboard-v2/server-v2.js dashboard-v2/server-v2.js.backup_$BACKUP_DATE && cp dashboard-v2/index.html dashboard-v2/index.html.backup_$BACKUP_DATE && cp dashboard-v2/auto_download_discord_gifs.js dashboard-v2/auto_download_discord_gifs.js.backup_$BACKUP_DATE && sed -i 's|82\.67\.65\.98:3002|88.174.155.230:3002|g' src/commands/dashboard.js src/utils/discord_gif_downloader.js dashboard-v2/server-v2.js dashboard-v2/index.html dashboard-v2/auto_download_discord_gifs.js && pm2 restart bag-bot dashboard && pm2 list && echo "âœ… TERMINÃ‰! Testez /dashboard sur Discord"

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ”™ RESTAURATION (si problÃ¨me)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

cd /home/bagbot/baag-bot

# Remplacez YYYYMMDD_HHMMSS par votre timestamp
BACKUP_DATE="20251127_XXXXXX"

cp src/commands/dashboard.js.backup_$BACKUP_DATE src/commands/dashboard.js
cp src/utils/discord_gif_downloader.js.backup_$BACKUP_DATE src/utils/discord_gif_downloader.js
cp dashboard-v2/server-v2.js.backup_$BACKUP_DATE dashboard-v2/server-v2.js
cp dashboard-v2/index.html.backup_$BACKUP_DATE dashboard-v2/index.html
cp dashboard-v2/auto_download_discord_gifs.js.backup_$BACKUP_DATE dashboard-v2/auto_download_discord_gifs.js

pm2 restart bag-bot dashboard

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ðŸ“Š LOGS (pour vÃ©rifier si tout va bien)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

pm2 logs bag-bot --lines 30
pm2 logs dashboard --lines 30

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

