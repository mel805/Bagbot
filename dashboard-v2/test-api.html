<!DOCTYPE html>
<html>
<head>
  <title>Test API Dashboard</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
    .test { margin: 20px 0; padding: 15px; background: #2a2a2a; border-radius: 8px; }
    .success { border-left: 4px solid #4caf50; }
    .error { border-left: 4px solid #f44336; }
    pre { background: #000; padding: 10px; overflow-x: auto; }
    button { padding: 10px 20px; margin: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>üîç Test API Dashboard</h1>
  <button onclick="testAll()">Tester tous les endpoints</button>
  
  <div id="results"></div>
  
  <script>
    const results = document.getElementById('results');
    
    async function testEndpoint(name, url) {
      const div = document.createElement('div');
      div.className = 'test';
      div.innerHTML = `<h3>${name}</h3><p>‚è≥ Loading...</p>`;
      results.appendChild(div);
      
      try {
        const response = await fetch(url);
        const data = await response.json();
        div.className = 'test success';
        div.innerHTML = `<h3>‚úÖ ${name}</h3><pre>${JSON.stringify(data, null, 2).substring(0, 500)}...</pre>`;
      } catch (error) {
        div.className = 'test error';
        div.innerHTML = `<h3>‚ùå ${name}</h3><p>${error.message}</p>`;
      }
    }
    
    async function testAll() {
      results.innerHTML = '';
      await testEndpoint('GET /api/configs', '/api/configs');
      await testEndpoint('GET /api/discord/members', '/api/discord/members');
      await testEndpoint('GET /api/discord/channels', '/api/discord/channels');
      await testEndpoint('GET /api/discord/roles', '/api/discord/roles');
    }
    
    // Auto-test au chargement
    testAll();
  </script>
</body>
</html>
